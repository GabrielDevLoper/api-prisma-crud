# Migration `20200615193811-add-field-created-at-into-all-tables`

This migration has been generated by Gabriel Barreto at 6/15/2020, 7:38:11 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Address" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."Client" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."Product" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."User" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200615181340-alter-category-add-field-created-at..20200615193811-add-field-created-at-into-all-tables
--- datamodel.dml
+++ datamodel.dml
@@ -2,19 +2,20 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url      = "postgresql://postgres:postgres@localhost:5432/prisma-crud?schema=public"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
 }
 model User {
-  id       Int    @id @default(autoincrement())
-  email    String @unique
-  password String
+  id        Int      @id @default(autoincrement())
+  email     String   @unique
+  password  String
+  createdAt DateTime @default(now())
 }
 model Client {
   id          Int      @id @default(autoincrement())
@@ -22,19 +23,21 @@
   cpf         String?  @unique
   email       String?
   contact     String?
   address     Address?
+  createdAt   DateTime @default(now())
 }
 model Address {
-  id           Int     @id @default(autoincrement())
+  id           Int      @id @default(autoincrement())
   state        String?
   city         String?
   neighborhood String?
   street       String?
   number       Int?
   client_id    Int?
-  client       Client? @relation(fields: [client_id], references: [id])
+  client       Client?  @relation(fields: [client_id], references: [id])
+  createdAt    DateTime @default(now())
 }
 model Product {
   id           Int       @id @default(autoincrement())
@@ -43,9 +46,9 @@
   price        Float
   price_total  Float
   category_id  Int?
   category     Category? @relation(fields: [category_id], references: [id])
-
+  createdAt    DateTime  @default(now())
 }
 model Category {
   id            Int      @id @default(autoincrement())
```


